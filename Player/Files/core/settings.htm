<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN" "http://www.w3.org/TR/html4/frameset.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Chameleon</title>
<script src="js/jQuery.js"></script>
<script src="js/jQuery.selection.js"></script>
<script src="js/jQuery.animateColor.js"></script>
<link rel="stylesheet" type="text/css" href="styles.css" />

<script>
	var cFrameTest="success";
	var jQueryLoadStatus="notLoaded";
	var cFrameControlClosed=0;
	var cFrameControlSaveChanges=0;
	
	var cFrameControlSetDefaultCover=0;
	var cFrameControlChooseNewCover=0;
	
	var notDraggableZone=0;
	
	$(".endz").live("mouseenter",function(){
		notDraggableZone=1;
	});
	$(".endz").live("mouseleave",function(){
		notDraggableZone=0;
	});
	
	window.onload=function(){
		document.body.onselectstart=function(e){
			if(!$(e.target).is("input")) return false;
		}
	}
</script>
</head>

<body>
	<div class="settingsFrame">
		<div class="frameHolder">
			<div class="topContent">
				<div style="padding:5px;">
				 <table cellspacing="0" cellpadding="0" width="100%">
				  <tr>
				   <td><div style="width:5px;"></div></td>
				   <td width="100%">
					<div class="titleContent segoeUi"><span class="trackName"></span></div>
				   </td>
				   <td><div style="width:5px;"></div></td>
				   <td align="right">
					<div class="windowControls endz">
					 <div class="windowControl"><div class="close" onClick="cFrameControlClosed='1';"></div></div>
					</div>
				   </td>
				  </tr>
				 </table>
				</div>
			</div>
			<div class="centerContent endz">
				<div style="padding:10px;">
					<div class="contentControllers">
					 <table cellspacing="0" cellpadding="0">
					  <tr>
					   <td><div class="contentController current" data-slideTo="0"><span class="segoeUi">Music Info</span></div></td>
					   <td><div style="width:10px;"></div></td>
					   <td><div class="contentController" data-slideTo="792"><span class="segoeUi">Player Settings</span></div></td>
					   <!--
					   <td><div style="width:10px;"></div></td>
					   <td><div class="contentController"><span class="segoeUi">About</span></div></td>
					   -->
					  </tr>
					 </table>
					</div>
				</div>
				<div class="slider">
					<table cellspacing="0" cellpadding="0">
					 <tr>
					  <td valign="top">
						<div class="musicInfo">
							<div style="padding:0px 10px 10px 10px;">
							 <table cellspacing="0" cellpadding="0" width="100%">
							  <tr>
							   <td valign="top">
								<div style="position:relative">
									<div class="coverFrame">
										<img class="cover" style="position:relative;" src="" />
									</div>
									<div class="coverLoader" style="width:336px;height:336px;position:absolute;top:4px;left:4px;background:rgba(0,0,0,.6);">
										<div style="width:336px;height:336px;display:table-cell;vertical-align:middle;text-align:center;font-size:32px;color:#e0e0e0;" class="segoeUi">
											<img src="img/test-13-512.png" class="rotatingLoader" />
										</div>
									</div>
								</div>
								<div style="height:4px"></div>
								<div style="width:344px;">
									<table cellspacing="0" cellpadding="0" width="100%">
									 <tr>
									  <td align="left"><div class="button" onClick="cFrameControlSetDefaultCover='1';"><span class="segoeUi">Set Default Cover</span></div></td>
									  <td><div style="width:10px;"></div></td>
									  <td align="right"><div class="button" onClick="cFrameControlChooseNewCover='1';" style="float:right;"><span class="segoeUi">Choose New Cover</span></div></td>
									 </tr>
									</table>
								</div>
							   </td>
							   <td><div style="width:10px;"></div></td>
							   <td valign="top" width="100%">
								<div class="inputs">
									<div class="title segoeUi">Song Name</div>
									<div class="input"><input type="text" class="segoeUi sName" style="width:418px;" placeholder="Enter Song Name" /></div>
									<div class="title segoeUi">Artist</div>
									<div class="input"><input type="text" class="segoeUi sArtist" style="width:418px;" placeholder="Enter Artist" /></div>
									<table cellspacing="0" cellpadding="0" width="100%">
									 <tr>
									  <td>
										<div class="title segoeUi">Album</div>
										<div class="input"><input type="text" class="segoeUi sAlbum" style="width:204px;" placeholder="Enter Album" /></div>
									  </td>
									  <td><div style="width:12px;"></div></td>
									  <td>
										<div class="title segoeUi">Album Artist</div>
										<div class="input"><input type="text" class="segoeUi sAlbumArtist" style="width:204px;" placeholder="Enter Album Artist" /></div>
									  </td>
									 </tr>
									</table>
									<div class="title segoeUi">Genre</div>
									<div class="input"><input type="text" class="segoeUi sGenre" style="width:204px;" placeholder="Enter Genre" /></div>
									<div class="title segoeUi">Year</div>
									<div class="input"><input type="text" class="segoeUi sYear" style="width:82px;" placeholder="Enter Year" /></div>
								</div>
							   </td>
							  </tr>
							 </table>
							</div>
						</div>
					  </td>
					  <td valign="top">
						<div class="playerSettings">
							<div style="padding:0px 10px 10px 10px;">
								<div class="segoeUi" style="font-size:13px;margin:20px auto;text-align:center;">
									Settings like auto-replay, master volume, set Chameleon Player as default music player and also remove it from defaults.
								</div>
							</div>
						</div>
					  </td>
					 </tr>
					</table>
				</div>
			</div>
			<div class="bottomContent endz">
				<div style="padding:10px;">
				 <table cellspacing="0" cellpadding="0" width="100%">
				  <tr>
				   <td>
				   </td>
				   <td><div style="width:5px;"></div></td>
				   <td align="right">
					<div class="contentControllers">
					 <table cellspacing="0" cellpadding="0">
					  <tr>
					   <td><div class="contentController" onClick="cFrameControlSaveChanges='1';"><span class="segoeUi">Save Changes</span></div></td>
					   <td><div style="width:10px;"></div></td>
					   <td><div class="contentController" onClick="cFrameControlClosed='1';"><span class="segoeUi">Cancel</span></div></td>
					  </tr>
					 </table>
					</div>
				   </td>
				  </tr>
				 </table>
				</div>
			</div>
		</div>
	</div>
	
	<div id="debug" style="position:absolute;top:20px;left:20px;z-index:9999999;color:#FF0000;font-size:26px;"></div>
	
	<script>
		$(".coverLoader").hide();
		$(".coverLoader").fadeIn("fast");
		$(".coverLoader .rotatingLoader").css({"transform":"rotate(0deg)"});
		setTimeout(function(){$(".coverLoader .rotatingLoader").css({"transform":"rotate(3600deg)"});},10);
		
		
		$(document).ready(function(){
			jQueryLoadStatus="loaded";
		});
		
		function initSettingsFrame(trackName,base64Cover,r,g,b,sName,sArtist,sAlbum,sAlbumArtist,sGenre,sYear){
			// Convert base64 string
			trackName=atob(trackName);
			sName=atob(sName);
			sArtist=atob(sArtist);
			sAlbum=atob(sAlbum);
			sAlbumArtist=atob(sAlbumArtist);
			sGenre=atob(sGenre);
			sYear=atob(sYear);
			
			trackName=trackName.split("\/");
			$(".trackName").html(trackName[trackName.length-1]);
			
			$(".sName").val(sName);
			$(".sArtist").val(sArtist);
			$(".sAlbum").val(sAlbum);
			$(".sAlbumArtist").val(sAlbumArtist);
			$(".sGenre").val(sGenre);
			$(".sYear").val(sYear);
			
			$(".musicInfo img.cover").attr("src","data:image/png;base64,"+base64Cover).css({opacity:0});
			
			$(".settingsFrame").css({borderColor:"rgba("+r+","+g+","+b+",1)"});
			
			setTimeout(function(){
				var iWidth=$(".musicInfo img.cover").width();
				var iHeight=$(".musicInfo img.cover").height();
				
				if(iWidth>iHeight){
					var avgWidth=((iWidth*336)/iHeight);
					$(".musicInfo img.cover").css({left:-((avgWidth-336)/2)});
					$(".musicInfo img.cover").height(336);
				}else if(iWidth==iHeight){
					$(".musicInfo img.cover").width(336);
					$(".musicInfo img.cover").height(336);
				}else{
					var avgHeight=((iHeight*336)/iWidth);
					$(".musicInfo img.cover").css({top:-((avgHeight-336)/2)});
					$(".musicInfo img.cover").width(336);
				}
				
				$(".musicInfo img.cover").animate({opacity:1},"fast",function(){$(".coverFrame").css({"background":"none"});});
				$(".coverLoader").fadeOut("fast");
			},500);
		}
		function setDefaultCover(base64Cover,r,g,b){
			$(".musicInfo img.cover").attr("src","data:image/png;base64,"+base64Cover);
			$(".settingsFrame").css({borderColor:"rgba("+r+","+g+","+b+",1)"});
		
			$(".musicInfo img.cover").css({top:0,left:0});
			$(".musicInfo img.cover").width(336);
			$(".musicInfo img.cover").height(336);
		}
		function startCoverLoader(){
			//$(".coverFrame").animate({opacity:.4},"fast");
			$(".coverLoader").fadeIn("fast");
		}
		function endCoverLoader(){
			//$(".coverFrame").animate({opacity:1},"fast");
			$(".coverLoader").fadeOut("fast");
		}
		function chooseNewCover(base64Cover,r,g,b){
			$(".coverFrame").html('<img class="cover" style="position:relative;" src="" />');
			$(".musicInfo img.cover").attr("src","data:image/png;base64,"+base64Cover);
			$(".settingsFrame").css({borderColor:"rgba("+r+","+g+","+b+",1)"});
		
			var iWidth=$(".musicInfo img.cover").width();
			var iHeight=$(".musicInfo img.cover").height();
		
			if(iWidth>iHeight){
				var avgWidth=((iWidth*336)/iHeight);
				$(".musicInfo img.cover").css({left:-((avgWidth-336)/2)});
				$(".musicInfo img.cover").height(336);
			}else if(iWidth==iHeight){
				$(".musicInfo img.cover").width(336);
				$(".musicInfo img.cover").height(336);
			}else{
				var avgHeight=((iHeight*336)/iWidth);
				$(".musicInfo img.cover").css({top:-((avgHeight-336)/2)});
				$(".musicInfo img.cover").width(336);
			}
		}
		
		$(".contentController").bind("click",function(){
			$(".contentController").removeClass("current");
			$(this).addClass("current");
			$(".centerContent .slider").stop().animate({"scrollLeft":parseInt($(this).attr("data-slideTo"))},340);
		});
		
	</script>
	
</body>
</html>